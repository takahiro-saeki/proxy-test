{"version":3,"sources":["sample.js"],"names":["App","el","document","getElementById","up","down","target","handler","set","name","value","console","log","get","has","Reflect","deleteProperty","isExtensible","ownKeys","proxy","Proxy","num","render","onClickUp","onClickDown","onclick","check","innerHTML"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAAMA;AACJ,iBAAc;AAAA;;AACZ,SAAKC,EAAL,GAAUC,SAASC,cAAT,CAAwB,KAAxB,CAAV;AACA,SAAKC,EAAL,GAAUF,SAASC,cAAT,CAAwB,IAAxB,CAAV;AACA,SAAKE,IAAL,GAAYH,SAASC,cAAT,CAAwB,MAAxB,CAAZ;AACA,QAAMG,SAAS,EAAf;AACA,SAAKC,OAAL,GAAe;AACbC,SADa,eACTF,MADS,EACDG,IADC,EACKC,KADL,EACW;AACtB,YAAGA,QAAQ,EAAX,EAAe;AACbC,kBAAQC,GAAR,CAAY,MAAZ;AACA,iBAAON,OAAOG,IAAP,CAAP;AACD;AACD,YAAGC,QAAQ,CAAX,EAAc;AACZ,iBAAOJ,OAAOG,IAAP,CAAP;AACD;AACDH,eAAOG,IAAP,IAAeC,KAAf;AACA,eAAOJ,OAAOG,IAAP,CAAP;AACD,OAXY;AAYbI,SAZa,eAYTP,MAZS,EAYDG,IAZC,EAYKC,KAZL,EAYY;AACvB,eAAOJ,OAAOG,IAAP,CAAP;AACA;AACD,OAfY;AAgBbK,SAhBa,eAgBTR,MAhBS,EAgBFG,IAhBE,EAgBI;AACfE,gBAAQC,GAAR,CAAY,KAAZ,EAAmB,EAACN,cAAD,EAASG,UAAT,EAAnB;AACAE,gBAAQC,GAAR,CAAY,SAAZ,EAAuBG,QAAQD,GAAR,CAAYR,MAAZ,EAAmBG,IAAnB,CAAvB;AACA,eAAOM,QAAQD,GAAR,CAAYR,MAAZ,EAAmBG,IAAnB,CAAP;AACD,OApBY;AAqBbO,oBArBa,0BAqBEV,MArBF,EAqBUI,KArBV,EAqBiB;AAC5B;AACA;AACD,OAxBY;AAyBbO,kBAzBa,wBAyBAX,MAzBA,EAyBQ;AACnBK,gBAAQC,GAAR,CAAY,cAAZ,EAA4BN,MAA5B;AACA,eAAO,IAAP;AACD,OA5BY;AA6BbY,aA7Ba,mBA6BLZ,MA7BK,EA6BG;AACdK,gBAAQC,GAAR,CAAY,SAAZ,EAAuBN,MAAvB;AACA,eAAO,IAAP;AACD;AAhCY,KAAf;AAkCA,SAAKa,KAAL,GAAa,IAAIC,KAAJ,CAAUd,MAAV,EAAkB,KAAKC,OAAvB,CAAb;AACA,SAAKY,KAAL,CAAWE,GAAX,GAAiB,CAAjB;AACA,SAAKC,MAAL;AACA,SAAKC,SAAL;AACA,SAAKC,WAAL;AACD;;;;gCAEW;AAAA;;AACV,WAAKpB,EAAL,CAAQqB,OAAR,GAAkB,YAAM;AACtB,cAAKC,KAAL;AACAf,gBAAQC,GAAR,CAAY,UAAZ;AACA,cAAKO,KAAL,CAAWE,GAAX,GAAiB,MAAKF,KAAL,CAAWE,GAAX,GAAiB,CAAlC;AACA,cAAKC,MAAL;AACD,OALD;AAMD;;;kCAEa;AAAA;;AACZ,WAAKjB,IAAL,CAAUoB,OAAV,GAAoB,YAAM;AACxB,eAAKN,KAAL,CAAWE,GAAX,GAAiB,OAAKF,KAAL,CAAWE,GAAX,GAAiB,CAAlC;AACA,eAAKC,MAAL;AACD,OAHD;AAID;;;4BAEO;AACN;AACA;AACA;AACAX,cAAQC,GAAR,CAAY,SAAS,KAAKO,KAA1B;AACAR,cAAQC,GAAR,CAAY,KAAKO,KAAjB;AACD;;;6BAEQ;AACP,WAAKlB,EAAL,CAAQ0B,SAAR,qBAAoC,KAAKR,KAAL,CAAWE,GAA/C;AACD;;;;;;AAGH,IAAIrB,GAAJ","file":"proxy-test.map","sourcesContent":["class App {\n  constructor() {\n    this.el = document.getElementById('app');\n    this.up = document.getElementById('up');\n    this.down = document.getElementById('down');\n    const target = {}\n    this.handler = {\n      set(target, name, value){\n        if(value > 10) {\n          console.log('over')\n          return target[name]\n        }\n        if(value < 0) {\n          return target[name]\n        }\n        target[name] = value;\n        return target[name]\n      },\n      get(target, name, value) {\n        return target[name]\n        //this.render()\n      },\n      has(target,name) {\n        console.log('has', {target, name})\n        console.log('reflect', Reflect.has(target,name))\n        return Reflect.has(target,name)\n      },\n      deleteProperty(target, value) {\n        //console.log({target, value})\n        //throw 'you cannot delete by yourself'\n      },\n      isExtensible(target) {\n        console.log('isExtensible', target)\n        return true\n      },\n      ownKeys(target) {\n        console.log('ownKeys', target)\n        return true\n      }\n    };\n    this.proxy = new Proxy(target, this.handler)\n    this.proxy.num = 5\n    this.render()\n    this.onClickUp()\n    this.onClickDown()\n  }\n  \n  onClickUp() {\n    this.up.onclick = () => {\n      this.check()\n      console.log('onCLick!')\n      this.proxy.num = this.proxy.num + 1\n      this.render()\n    }\n  }\n  \n  onClickDown() {\n    this.down.onclick = () => {\n      this.proxy.num = this.proxy.num - 1\n      this.render()\n    }\n  }\n  \n  check() {\n    //Object.getOwnPropertyNames(this.proxy)\n    //Object.isExtensible(this.proxy)\n    //delete this.proxy.num\n    console.log('num' in this.proxy);\n    console.log(this.proxy)\n  }\n  \n  render() {\n    this.el.innerHTML = `<div>number: ${this.proxy.num}</div>`\n  }\n}\n\nnew App()"]}